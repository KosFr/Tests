# Тестовое задание в Technesis

## Задание

Необходимо обработать сырые данные о гостиницах из двух разных платформ в одном регионе.

## Задачи:

1. Собрать от каждой платформы финальный список гостиниц, в котором по каждой гостинице внутри платформы будет только одна запись с самыми актуальными и полными данными;
2. Почистить данные
3. Поля телефона, email, сайтов распарсить и сохранить как списки в одинаковом формате (address@domen.org, 79234553322, domen.ru)
4. Вывести топ 10 по каждой платформе, по параметрам:
  * больше всего телефонов;
  * больше всего отзывов.
5. Вывести квадрат координат размером 1км на 1км, где больше всего гостиниц
6. Задача со *, объединить данные от двух платформ, по критерию который вы придумаете:
  * Вывести все гостиницы, которые есть в платформе 1 и нет в платформе 2;
  * Вывести топ 10 гостиниц которые есть в обоих платформах, по суммарному количеству отзывов.

## Описание данных

Описание полей:
id - Идентификатор в БД
create_time	- Дата создания
title - Название
hotel_type_original - Тип гостиницы
city - Город
address - Адрес
rating -	Рейтинг
rating_5 -	Рейтинг по 5-ти бальной шкале
review_count -	Количество отзывов
star_rating -	Звездность
rooms_count -	Количество номеров
contact_social -	Контакты соц. сетей
description -	Описание
email -	email строкой, несколько значений через запятую
phone -	телефон строкой, несколько значений через запятую
website -	сайты строкой, несколько значений через запятую
uid -	Уникальный идентификатор гостиницы на платформе, не может быть разным у одной гостиницы, и не может повторятся у разных гостиниц, но в рамках одной платформы
parsing_time -	Время сбора
lat -	Широта
lon -	Долгота

- Записи могут повторятся, и самые актуальные данные идут в конце;
- Если какое-то поле по конкретной гостинице пустое в последней записи, но встречалось ранее, то необходимо его взять из более ранних записей;
- Поля телефона, email, сайтов могу содержать лишние символы, несколько записей и прочее;
- Формат записи названия, адреса, типа гостиницы отличается в разных платформах.

## Требования к результату

- Результат должен быть представлен Jupyter notebook
- Результат должен воспроизводится автоматически и нуля при повторном запуске, ручные правки должны быть учтены в коде
- Комментарии приветствуются

## Полученный результат

Данные получены и предобработаны. Я исправил типы значений в столбцах, обнаружил дубликаты и пропуски (текстовые заменил на NaN), обработал данные по столбцам. Наибольшей работы потребовали столбцы с адресами (имели разный формат записи). Нашел и исправил расхождения в номерах регионов. 

Выполнил задания: 
1. Пропущенные значения заполнил последним известным значением в каждой группе (по уникальному идентификатору);
2. Поля телефона, email, сайтов обработал и сохранил как списки в одинаковом формате;
3. Вывел топ-10 по каждой платформе в разрезе количества телефонов и количества отзывов;
4. Отобразил карту плотности с гостиницами;
5. Данные из двух платформ объединил по геолокации.

В ходе code review выяснилось, что можно произвести сравнение строк методом расстояния Левенштайна, чтобы проверить соответствие адресов между двумя таблицами.